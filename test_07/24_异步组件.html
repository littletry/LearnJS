<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>异步组件</title>
</head>
<body>
    <!--Vue.js允许将组件定义为一个工厂函数，动态地解析组件。Vue.js只在组件需要渲染时触发工厂函数，并且把结果缓存起来，用于后面的再次渲染。-->
    <div id="app">
        <child-component></child-component>
    </div>
    <script src="../vue/vue.js"></script>
    <script>
        Vue.component('child-component', function (resolve, reject) {
            window.setTimeout(function () {
                resolve({
                    template: '<div>我是异步渲染的</div>'
                });
            }, 2000);
        });
        const app = new Vue({
            el: '#app'
        })
    </script>
    <!--工厂函数接收一个resolve回调，在收到从服务器下载的组件定义时调用。也可以调用reject(reason)指示加载失败。
        这里setTimeout只是为了演示异步，具体的下载逻辑可以自己决定，比如把组件配置写成一个对象配置，通过Ajax来请求，然后调用resolve传入配置选项。-->
</body>
</html>
